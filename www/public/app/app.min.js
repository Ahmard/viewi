function OnReady(e){var n=this;this.then=function(e){this.onOk=e},this.catch=function(e){this.onError=e},e(function(e){n.onOk(e)},function(){n.onError()})}console.log("app.js included");var ajax={get:function(e){return new OnReady(function(n,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){var e=o.status;if(0===e||e>=200&&e<400){var r=o.getResponseHeader("Content-Type");n("application/json"===r?JSON.parse(o.responseText):o.responseText)}else t()}},o.open("GET",e,!0),o.send()})}};function Edgeon(){var e=this;this.componentsUrl="/public/build/components.json",this.components={},this.start=function(){ajax.get(this.componentsUrl).then(function(n){e.components=n,e.render("HomePage")})};var n=function(e){var n=arguments.length>1&&arguments[1];if(e.expression){var t={call:!0},o=["_component","app"];return n&&o.push("event"),e.raw?o.push("return "+e.code+";"):o.push("return app.htmlentities("+e.code+");"),t.func=Function.apply(null,o),t}return{call:!1,content:e.content}},t=["template"],o=["if","else-if","else","foreach"],r=["if","else-if","else"],i=[],s=function(e,u){var a=arguments.length>2&&arguments[2],c=arguments.length>3?arguments[3]:null,d=e.children,l=[],p=!1,f=null,h={};for(var v in d){var m=d[v];if("tag"!==m.type||"slot"!==m.content)if("text"===m.type&&p&&"text"===p.type){if(p.contents.push(n(m)),m.subs)for(var b in m.subs)N(p,m.subs[b])}else{var y=null;m.attributes&&(y=m.attributes.first(function(e){return-1!==o.indexOf(e.content)&&-1===i.indexOf(e.content)}));var g=!1;if(p={type:m.type,contents:[n(m)],domNode:null,parent:c,count:1,take:1,skip:!1,data:!1,instance:u,previousNode:f},f&&(f.nextNode=p),f=p,null===y&&"tag"===m.type&&-1!==t.indexOf(m.content)){var w=m.content;p.type=w,p.isVirtual=!0}if(null===y){if(i.length>0&&(i=[]),"component"===m.type&&(g=m.content),m.subs)for(var b in m.subs)N(p,m.subs[b]);if(childNodes=!1,m.children&&(childNodes=s(m,u,a,p)),m.attributes&&(p.attributes=m.attributes.where(function(e){return-1===o.indexOf(e.content)}).select(function(e){var t={},o="("===e.content[0];if(t.content=e.content,t.isAttribute=!0,t.parent=p,t.contentExpression=n(e),e.children&&(t.children=e.children.select(function(e){var r={};if(r.contentExpression=n(e,o),r.content=e.content,e.subs&&!o)for(var i in e.subs)N(t,e.subs[i]);return r})),e.subs&&!o)for(var r in e.subs)N(t,e.subs[r]);return t})),g){var E=x(g,childNodes);l=l.concat(E)}else childNodes&&(p.children=childNodes),l.push(p)}else{if(p.type=y.content,"if"===p.type&&(h={}),p.isVirtual=!0,i.push(y.content),p.children=s({children:[m]},u,a,p),-1!==r.indexOf(p.type)){for(var b in p.condition=y.children?n(y.children[0]):{},h)N(p,b);if(y.children&&y.children[0].subs)for(var b in y.children[0].subs)N(p,y.children[0].subs[b]),h[y.children[0].subs[b]]=!0}l.push(p)}}else{!0;var O=m.attributes&&m.attributes.first(function(e){return"name"===e.content}),P=0,j=function(e){return!e.attributes};if(O&&(P=O.children[0].content,j=function(e){return e.attributes&&e.attributes.first(function(e){return"name"===e.content&&e.children[0].content===P})}),a){if(0===P){var V=a.where(function(e){return"tag"!==e.type&&"slotContent"!==e.contents[0].content}),k=l.length>0?l[l.length-1]:null;V.each(function(e){e.nextNode=null,e.parent=c,e.previousNode=k,k&&(k.nextNode=e),k=e}),l=l.concat(V)}else{var C=a.first(function(e){return"tag"===e.type&&"slotContent"===e.contents[0].content&&j(e)});if(C){k=l.length>0?l[l.length-1]:null;C.children.each(function(e){e.nextNode=null,e.parent=c,e.previousNode=k,k&&(k.nextNode=e),k=e}),l=l.concat(C.children)}}f=l.length>0?l[l.length-1]:null}}}return l},u=function(n,t){if(n)try{if("("===t.content[0]){var o=t.content.substring(1,t.content.length-1),r=t.children[0].contentExpression.func;console.log(n,o,t.children),n.addEventListener(o,function(n){r(t.parent.instance,e,n)})}else{var i=t.children?t.children.select(function(n){return n.contentExpression.call?n.contentExpression.func(t.parent.instance,e):n.contentExpression.content}).join(""):"";n.setAttribute(t.content,i)}}catch(e){console.error(e),console.log(t.content)}},a=function(e){for(var n=e,t=!0,o=!1;!n.domNode||t;)if(t=!1,null!==n.previousNode){if(o=!1,(n=n.previousNode).isVirtual){for(var r=n;null!==r&&!r.domNode;)r=r.isVirtual&&r.children?r.children[r.children.length-1]:null;r&&(n=r)}}else{if(null===n.parent)return null;n=n.parent,o=!0}return{itsParent:o,node:n}},c=function(e){for(var n in e)null!==e[n].domNode&&(e[n].domNode.parentNode.removeChild(e[n].domNode),e[n].domNode=null),e[n].children&&c(e[n].children)},d=function(n,t,o,r){if(!r&&(t.isVirtual||"text"===t.type)){for(var i=t;i.parent&&i.parent.isVirtual;)i=i.parent;for(var s=a(t),p=(s&&s.itsParent?s.node.domNode:s&&s.node.domNode.parentNode)||n,f=i;f.previousNode&&(f.previousNode.isVirtual||"text"===f.previousNode.type);)f=f.previousNode;for(var h=i;h.nextNode&&(h.nextNode.isVirtual||"text"===h.nextNode.type);)h=h.nextNode;if(f!==i||h!==i){for(var v=f,N=!0;N;)d(p,v,!0,!0),N=v!==h,v=v.nextNode;return}}if(o){var m=t.parent&&t.parent.condition,b=m&&m.value;if(m&&!b)return void c([t])}var y=[];for(var g in t.contents){var x=t.contents[g];y.push(x.call?x.func(t.instance,e):x.content)}var w=y.join(""),E=!1,O=!1;switch(t.type){case"text":if(n===document){E=document.childNodes[0];break}var P=a(t);if(o&&null==P)return;P&&"text"==P.node.type?(P.node.domNode.nodeValue+=w,null!==t.domNode&&(t.domNode.parentNode.removeChild(t.domNode),t.domNode=null)):null!==t.domNode&&t.domNode.parentNode===n?(t.domNode.nodeValue=w,E=t.domNode):(E=document.createTextNode(w),n.appendChild(E),t.domNode=E);break;case"tag":if(n===document){E=document.childNodes[1],t.domNode=E;break}if("script"===w)return;if(E=document.createElement(w),null!==t.domNode)t.domNode.parentNode.replaceChild(E,t.domNode);else if(o){if(null==(P=a(t)))return;var j=P.node.domNode.nextSibling;P.itsParent||null===j?P.node.domNode.parentNode.appendChild(E):j.parentNode.insertBefore(E,j)}else n.appendChild(E);if(t.domNode=E,t.attributes)for(var V in t.attributes)u(E,t.attributes[V]);break;case"if":t.condition.value=t.condition.func(t.instance,e),E=n,t.parentDomNode=n,t.condition.previousValue=t.condition.value,t.topRealPreviousNode=t.parent.topRealPreviousNode||t.previousNode,O=!0;break;case"else-if":t.condition.value=!t.previousNode.condition.value&&t.condition.func(t.instance,e),t.condition.previousValue=t.previousNode.condition.value||t.condition.value,E=n,t.parentDomNode=n,t.topRealPreviousNode=t.parent.topRealPreviousNode||t.previousNode,O=!0;break;case"else":t.condition.value=!t.previousNode.condition.previousValue,E=n,t.parentDomNode=n,t.topRealPreviousNode=t.parent.topRealPreviousNode||t.previousNode,O=!0;break;case"template":E=n,O=!0;break;default:throw new Error("Node type '"+t.type+"' is not implemented.")}E&&l(E,t.children,O,r)},l=function(e,n,t,o){for(var r in n)d(e,n[r],t,o)},p=0,f=function(e){return"__id"in e||(e.__id=++p),e.__id},h={},v={},N=function(e,n){var t=e.isAttribute?e.parent.instance:e.instance,o=f(t);o in v||(v[o]={}),n in v[o]||(v[o][n]=[]),v[o][n].push(e)},m=function(e,n){var t=f(e);t in v&&n in v[t]&&(h[t+"_"+n]=v[t][n],setTimeout(function(){!function(){for(var e in h)for(var n in h[e]){var t=h[e][n];t.isAttribute?u(t.parent.domNode,t):t.isVirtual?d(t.parentDomNode,t):d(t.domNode&&t.domNode.parentNode,t)}h={}}()},0))},b=function(e){var n=arguments.length>1?arguments[1]:e,t=arguments.length>2?arguments[2]:"this";if("__reactive"in e)return e;e.__reactive=!0;for(var o=Object.keys(e),r=0;r<o.length;r++)y(n,t+"."+o[r],e,o[r],e[o[r]]);return e},y=function(e,n,t,o,r){null!==r&&"object"==typeof r&&b(r,e,n),"function"!=typeof r&&Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){m(e,n),r=t}})},g=function(n){var t=e.components[n].dependencies;if(!t)return b(new window[n]);var arguments=[];for(var o in t){var r=t[o],i=null;i=r.default?r.default:r.builtIn?"string"===r.name?"":0:g(r.name),arguments.push(i)}return b(new(window[n].bind.apply(window[n],arguments)))},x=function(n,t){if(!(n in e.components))throw new Error("Component "+n+" doesn't exist.");var o=e.components[n],r=g(n);return console.log(r),s(o.nodes,r,t)};this.render=function(e){if(!e)throw new Error("Component name is required.");if(!(e in this.components))throw new Error("Component "+e+" doesn't exist.");var n=x(e);console.log(n),l(document,n,!1)},this.htmlentities=function(e){return"string"==typeof e?e.replace(/[\u00A0-\u9999<>\&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"}):e}}Object.defineProperty(Array.prototype,"first",{enumerable:!1,value:function(e){for(var n in this){if(!e)return this[n];if(e(this[n]))return this[n]}return null}}),Object.defineProperty(Array.prototype,"where",{enumerable:!1,value:function(e){var n=[];for(var t in this)e(this[t])&&n.push(this[t]);return n}}),Object.defineProperty(Array.prototype,"select",{enumerable:!1,value:function(e){var n=[];for(var t in this)n.push(e(this[t]));return n}}),Object.defineProperty(Array.prototype,"each",{enumerable:!1,value:function(e){for(var n in this)e(this[n],n);return this}});var app=new Edgeon;app.start();